[manifest]
version = "1.0.0"
dump_lua = true
priority = -1

[[patches]]
[patches.pattern]
target = 'game.lua'
pattern = '''
function Game:update(dt)
'''
position = "after"
payload = '''
local fuck = MEDIUM.animated_sprites or {}
    for index, value in pairs(fuck) do
        value.current_time = value.current_time + dt
        if value.current_time > value.timeperframe then
            value.current_frame = value.current_frame + 1
            if value.current_frame > value.max_frames then
                value.current_frame = 1
            end
            value.current_time = 0
        end
    end
-- animated jokers
for k, v in pairs(fuck) do
if MEDIUM.config.animjokers then
G.P_CENTERS[k].pos.x = v.current_frame - 1
G.P_CENTERS[k].pos.y = v.yvalue
else
G.P_CENTERS[k].pos.x = v.originalpos.x
G.P_CENTERS[k].pos.y = v.originalpos.y
end
end
'''
match_indent = true

[[patches]]
[patches.pattern]
target = 'game.lua'
pattern = '''
    local bosses_used = {}
    for k, v in pairs(G.P_BLINDS) do 
        if v.boss then bosses_used[k] = 0 end
    end
    return {
'''
position = "after"
payload = '''
jankvalue = 0,
jankop = "med_jank",
'''
match_indent = true
